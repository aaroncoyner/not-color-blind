# not-color-blind

Code repository for _Not Color Blind: AI Predicts Racial Identity from Black and White Retinal Vessel Segmentations_. Authored by Aaron S Coyner, PhD, Praveer Singh, PhD, James M Brown, PhD, Susan Ostmo MS, RV Paul Chan MD, Michael F Chiang MD, MA, Jayashree Kalpathy-Cramer PhD, and J Peter Campbell MD, MPH. ASC and PS contributed to this work equally. JKC and JPC supervised this work equally.

## ABSTRACT

It is well established that artificial intelligence (AI) algorithms may demonstrate racial biases in cases in which elements of skin or choroidal pigmentation are present in images; this is especially concerning for medical AI devices. If the prevalence of a disease varies across races in a population, then an algorithm may incorrectly associate race as a diagnostic feature for a disease, leading not only to poor external generalizability, but potentially biased accuracy based on patient race. To address this concern, we previously developed an AI algorithm that diagnoses retinopathy of prematurity (ROP) in color retinal fundus images (RFIs) using a pre-processing step that creates grayscale retinal vessel map (RVMs) to remove evidence of fundus pigmentation. However, recent studies have demonstrated that AI, specifically convolutional neural networks (CNNs), can predict race from images that were not previously thought to contain race-specific features, such as  X-rays and computed tomography scans, and breast mammograms. In this paper, we evaluate whether RVMs generated from RFIs of patients being screened for ROP contain predictive information of self-reported race.

As part of the multicenter Imaging and Informatics in Retinopathy of Prematurity (ROP) study, 4095 RFIs were collected from 245 non-Hispanic Black and non-Hispanic White infants during routine ROP screenings. To ensure that an underlying disease distribution was not a confounder, infants included in the study were never treated for ROP and were required to have normal retinal vasculature in their images. A previously-trained U-Net was used to segment the retinal vasculature present in RFIs into RVMs. RVMs were further modified, via thresholding, binarizing, or skeletonizing. In order to evaluate whether RVM differences between Black and White babies were physiological or a product of the U-Net, multiple ResNet-18 CNNs were trained to predict race from RFIs, raw grayscale RVMs, and modified RVMs across a range of thresholds. Area under the precision-recall curve (AUC-PR) was the primary metric of model performance.

We found that Resnet-18 was able to predict self-reported race from color RFIs near perfectly (image-level AUC-PR: 0.999, subject-level AUC-PR: 1.000). Interestingly, raw (non-thresholded) grayscale RVMs were nearly as informative as color RFIs (image-level AUC-PR: 0.938, subject-level AUC-PR: 0.995). As the threshold at which RVMs were thresholded, binarized, and skeletonized increased, the AUC-PR, at both the image and subject level, dropped. Ultimately, CNNs were accurately able to detect whether RFIs or RVMS were from Black or White babies, regardless of whether pigmentation information was visible to the human eye, vessel segmentation brightness differences were nullified, or vessel segmentation widths were normalized.

We demonstrate that AI can detect self-reported race from grayscale RVMs that were not thought to contain racial information. There are two potential explanations for these findings: (1) that retinal vessels physiologically differ between Black and White babies, or (2) that the U-Net segments the retinal vasculature differently for various fundus pigmentations and, thus, RVMs preserve racial information. We are not yet fully able to evaluate these two explanations, but the implications for medical AI remain the same. That is, in either case, AI algorithms have potential to demonstrate racial bias in practice, even when preliminary attempts to remove such information from the underlying images appear to be successful.
